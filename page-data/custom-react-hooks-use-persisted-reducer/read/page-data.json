{"componentChunkName":"component---node-modules-gatsby-theme-blog-src-templates-post-js","path":"/custom-react-hooks-use-persisted-reducer/read","webpackCompilationHash":"8f1caddcb80a0018ee1b","result":{"data":{"post":{"id":"f728d445-2f06-50e0-9bbe-b6957f608d27","title":"Custom React Hooks - Use Persisted Reducer","date":"September 03, 2019","excerpt":"Hooks  are a new addition in React 16.8. They let you use state and other React features without writing a class. useReducer useReducer  isâ€¦","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Custom React Hooks - Use Persisted Reducer\",\n  \"date\": \"2019-09-03T00:00:00.000Z\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"512px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"50%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVQoz5WR20rDQBCG+zSK7sxu0rRaPOGxqGktljaVesATRPROtFARwcOVoAji8/5OsloSbWy8+NjZJfn3m50COdMYhjJTg1WRZ4nqL7L+K2SGuRUoVQSt1KB3Q3DnFLS6BcVe6sJcgUn0WQ/m8QPm7g36vA8qzf7f8NuON1swV08w/WeY2xeYywewHwwsRwambpbQ2DC8hrl/l8BX6IsbMZwb/v3PwPQQimLoQo0RaKEKDo7BzQPQ4gbUOMf2ybdMBv829GZASz64vgOuBeC1hgyjLnXH4rfB603QfBVKl0e1XI4fnRtdsToBb+8J++DWIXQ3tGeRbfsItOyLZSlny1G7EwZq0hFcu0b7GMfuc7cc1xU7lL/IGMonY+5HNRDNhisAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Use Persisted Reducer\",\n    \"title\": \"Use Persisted Reducer\",\n    \"src\": \"/static/bde39bd61e2b9f3b8583d2796bdb4b91/c5a17/UsePersistedReducer.png\",\n    \"srcSet\": [\"/static/bde39bd61e2b9f3b8583d2796bdb4b91/fc834/UsePersistedReducer.png 345w\", \"/static/bde39bd61e2b9f3b8583d2796bdb4b91/c5a17/UsePersistedReducer.png 512w\"],\n    \"sizes\": \"(max-width: 512px) 100vw, 512px\",\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/hooks-intro.html\"\n  }), \"Hooks\"), \" are a new addition in React 16.8. They let you use state and other React features without writing a class.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React, { useState } from 'react';\\n\\nfunction Example() {\\n  // Declare a new state variable, which we'll call \\\"count\\\"\\n  const [count, setCount] = useState(0);\\n\\n  return (\\n    <div>\\n      <p>You clicked {count} times</p>\\n      <button onClick={() => setCount(count + 1)}>\\n        Click me\\n      </button>\\n    </div>\\n  );\\n}\\n\")), mdx(\"hr\", null), mdx(\"h2\", {\n    \"id\": \"usereducer\"\n  }, \"useReducer\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const [state, dispatch] = useReducer(reducer, initialArg, init);\\n\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useReducer\"), \" is an alternative to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useState\"), \". Accepts a reducer of type \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(state, action) => newState\"), \", and returns the current state paired with a dispatch method. (If you\\u2019re familiar with Redux, you already know how this works.)\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useReducer\"), \" is usually preferable to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useState\"), \" when you have complex state logic that involves multiple sub-values or when the next state depends on the previous one. useReducer also lets you optimize performance for components that trigger deep updates because you can pass dispatch down instead of callbacks.\"), mdx(\"p\", null, \"Check out \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useReducer\"), \" in the React docs \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/hooks-reference.html#usereducer\"\n  }), \"here\")), mdx(\"h2\", {\n    \"id\": \"usepersistedreducer\"\n  }, \"usePersistedReducer\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.npmjs.com/package/redux-persist\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"redux-persist\")), \" is a package which is used to persist state from redux\\nto local storage so as to prevent the state from going back to its initial state whenever the page reloads.\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"usePersistedReducer\"), \" is a custom react hook is a custom react hook that can be used in place of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useReducer\"), \" to persist the state to local storage or any other\\nbrowser storage provider.\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"use-persisted-reducer\"), \" but is a factory that accepts a storage \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"key\"), \"\\nand an optional storage provider (default = \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"localStorage\"), \") and returns a hook\\nthat you can use as a direct replacement for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useReducer\"), \".\"), mdx(\"h3\", {\n    \"id\": \"requirement\"\n  }, \"Requirement\"), mdx(\"p\", null, \"To use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"use-persisted-reducer\"), \", you must use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react@16.8.0\"), \" or greater which includes Hooks.\"), mdx(\"h3\", {\n    \"id\": \"installation\"\n  }, \"Installation\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-sh\"\n  }), \"$ npm i use-persisted-reducer --save\\n\")), mdx(\"p\", null, \"or\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-sh\"\n  }), \"$ yarn add use-persisted-reducer\\n\")), mdx(\"h3\", {\n    \"id\": \"example\"\n  }, \"Example\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React from 'react';\\nimport createPersistedReducer from 'use-persisted-reducer';\\n\\nconst usePersistedReducer = createPersistedReducer('state');\\n\\nconst initialState = { count: 0 };\\n\\nfunction reducer(state, action) {\\n  switch (action.type) {\\n    case 'increment':\\n      return { count: state.count + 1 };\\n    case 'decrement':\\n      return { count: state.count - 1 };\\n    default:\\n      throw new Error();\\n  }\\n}\\n\\nfunction Counter() {\\n  const [state, dispatch] = usePersistedReducer(reducer, initialState);\\n  return (\\n    <>\\n      Count: {state.count}\\n      <button onClick={() => dispatch({ type: 'increment' })}>+</button>\\n      <button onClick={() => dispatch({ type: 'decrement' })}>-</button>\\n    </>\\n  );\\n}\\n\\nexport default Counter;\\n\")), mdx(\"p\", null, \"You can also pass in your own storage provider\"), mdx(\"h3\", {\n    \"id\": \"example-1\"\n  }, \"Example\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React from 'react';\\nimport createPersistedReducer from 'use-persisted-reducer';\\n\\n// defaults to globalThis.localStorage\\nconst usePersistedReducer = createPersistedReducer('state', globalThis.sessionStorage);\\n\")), mdx(\"p\", null, \"You can contribute to the package or give it a star \\u2B50\\uFE0F \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/johnayeni/use-persisted-reducer\"\n  }), \"here\"), \" on Github.\"));\n}\n;\nMDXContent.isMDXComponent = true;"},"site":{"siteMetadata":{"title":"Dev Designer Blog"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"f728d445-2f06-50e0-9bbe-b6957f608d27","excerpt":"Hooks  are a new addition in React 16.8. They let you use state and other React features without writing a class. useReducer useReducer  isâ€¦","slug":"/custom-react-hooks-use-persisted-reducer/read","title":"Custom React Hooks - Use Persisted Reducer","date":"September 03, 2019","siteTitle":"Dev Designer Blog","socialLinks":[{"name":"Portfolio","url":"https://johnayeni.github.io/portfolio/"},{"name":"Twitter","url":"https://twitter.com/johnayeni_"},{"name":"Github","url":"https://github.com/johnayeni"}],"previous":{"node":{"id":"e4b37a31-45d8-5efe-be54-c5472bb958ae","excerpt":"Recently I was trying to dynamically import images for a component that renders a list of items, with each item tied to its own image in myâ€¦","slug":"/dynamic-image-import-with-create-react-app/read","title":"Dynamic Image Imports with Create React App","date":"August 27, 2019"}},"next":{"node":{"id":"53475ed7-46ae-5297-9673-4c930ccd4f79","excerpt":"Mixins allow you to define styles that can be re-used throughout your stylesheet.They make it easy to\navoid using non-semantic classes likeâ€¦","slug":"/media-queries-with-sass-mixins/read","title":"Media Queries with SASS mixins","date":"September 10, 2019"}}}}}